#define BT_SW(_n) &bt_sw &none &bt_sel##_n
#define BT_CLR_TST() &bt_sw &none &bt_clr_macro

#define DEF_BT_SEL_MACRO(_n) \
	bt_sel##_n: bt_sel##_n { \
		compatible = "zmk,behavior-macro"; \
		#binding-cells = <0>; \
		bindings = < &bt BT_SEL _n>; \
	}

/ {
	behaviors {
		DEF_BT_SEL_MACRO(0);
		DEF_BT_SEL_MACRO(1);
		DEF_BT_SEL_MACRO(2);
		DEF_BT_SEL_MACRO(3);
		DEF_BT_SEL_MACRO(4);

		bt_clr_macro: bt_clr_macro {
			compatible = "zmk,behavior-macro";
			#binding-cells = <0>;
			bindings = < &bt BT_CLR >;
		};

		bt_sel_1_tst: bt_sel_1_tst {
			compatible = "zmk,behavior-macro";
			#binding-cells = <0>;
			bindings = < &bt BT_SEL 1 >;
		};

		bt_sel_2_tst: bt_sel_2_tst {
			compatible = "zmk,behavior-macro";
			#binding-cells = <0>;
			bindings = < &bt BT_SEL 2 >;
		};

		bt_sw_1_tst: bt_sw_1_tst {
			compatible = "zmk,behavior-hold-tap";
			#binding-cells = <2>;
			flavor = "hold-preferred";
			tapping-term-ms = <1000>;
			bindings = <&none>, <&bt_sel_1_tst>;
		};

		bt_sw_2_tst: bt_sw_2_tst {
			compatible = "zmk,behavior-hold-tap";
			#binding-cells = <2>;
			flavor = "hold-preferred";
			tapping-term-ms = <1000>;
			bindings = <&none>, <&bt_sel_2_tst>;
		};

		bt_sw: bt_sw {
			compatible = "zmk,behavior-hold-tap";
			#binding-cells = <2>;
			flavor = "hold-preferred";
			tapping-term-ms = <1000>;
			bindings = <&kp>, <&kp>;
		};
	};
};

